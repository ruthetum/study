# 테스트 주도 개발 시작하기
[테스트 주도 개발 시작하기(최범균 저)](http://www.yes24.com/Product/Goods/89145195) 를 읽고 실습 및 정리한 내용입니다.

## TDD 흐름
> 테스트 -> 코딩 -> 리팩토링 -> 테스트

TDD는 테스트를 먼저 작성하고 테스트를 통과시킬만큼 코드를 작성하고 리팩토링으로 마무리하는 과정을 반복한다.

<details>
<summary>실습</summary>
<div markdown="1">

[chapter 2. 계산기](./src/test/java/chap02/calculator)

[chapter 2. 암호 강도 검사기](./src/test/java/chap02/password)

규칙
- 길이가 8글자 이상
- 0부터 9 사이의 숫자를 포함
- 대문자 포함

강도
- 강함 : 모든 규칙 충족
- 보통 : 2개의 규칙 충족
- 약함 : 그 외의 경우

</div>
</details>

## 테스트 코드 작성 순서
### 작성 순서
> - 쉬운 경우에서 어려운 경우로 진행
> - 예외적인 경우에서 정상인 경우로 진행

### 예외 상황을 먼저 테스트해야 하는 이유
다양한 예외 상황은 복잡한 **if-else** 블록을 동반할 때가 많다. 그렇기 때문에 예외 상황을 전혀 고려하지 않은 코드에 예외 상황을 반영하려면 코드의 구조를 뒤집거나 코드 중간에 예외 상황을 처리하기 위해 조건문을 추가해야 한다.

### 완급 조절
한 번에 얼마만큼의 코드를 작성할 것인가?

> 1. 정해진 값을 리턴
> 2. 값 비교를 이용해서 정해진 값을 리턴
> 3. 다양한 테스트를 추가하면서 구현을 일반화

### 지속적인 리팩토링
테스트를 통과한 뒤에는 리팩토링을 진행한다. 매번 리팩토링을 진행해야 하는 것은 아니지만 규칙성이나 흐름이 보일 경우 리팩토링을 진행한다.

<details>
<summary>실습</summary>
<div markdown="1">

[chapter 3. 서비스 만료 검사](./src/test/java/chap03/expiry)

규칙
- 서비스를 사용하려면 매달 1만원을 선불로 납부, 납부일 기준으로 한 달 뒤가 서비스의 만료일
- 2개월 이상 요금을 납부할 수 있음
- 10만원을 납부하면 서비스를 1년 제공

</div>
</details>

## TDDㆍ기능 명세ㆍ설계
### 기능 명세
설계는 기능 명세로부터 시작한다. 스토리 보드를 포함한 다양한 형태의 요구사항 문서를 이용해서 기능 명세를 구체화한다.

기능 명세를 구체화하는 동안 **입력**과 **결과**를 도출하고 이렇게 도출한 기능 명세를 코드에 반영한다.

기능 명세의 입력과 결과를 코드에 반영하는 과정에서 기능의 이름, 파라미터, 리턴 타입 등이 결정된다.

### 설계
테스트 코드를 작성하기 위해 **클래스 이름**, **메서드 이름**, **메서드 파라미터**, **실행 결과**를 결정하는 과정에서 이름을 고민하고 파라미터 타입과 리턴 타입을 고민하게 된다. 이는 곧 설계 과정이다.

#### 필요한 만큼만 설계하기
TDD는 테스트를 통과할 만큼만 코드를 작성한다. 필요할 것으로 예측해서 미리 코드를 작성하지 않는다.

<details>
<summary>실습</summary>
<div markdown="1">

[chapter 4. 로그인](./src/test/java/chap04/login)

단순히 값을 비교하는 것뿐만 아니라 exception을 결과로 사용할 수도 있다.

</div>
</details>